[![](https://2.bp.blogspot.com/-rFFK9Twsq7U/WKnsQoGBSWI/AAAAAAABsAc/0yzGCPTwHr0LcIjJPV18kgR3jtUNmIhwwCLcB/s320/Cool%2BGeological%2BLayering.jpg)](https://2.bp.blogspot.com/-rFFK9Twsq7U/WKnsQoGBSWI/AAAAAAABsAc/0yzGCPTwHr0LcIjJPV18kgR3jtUNmIhwwCLcB/s1600/Cool%2BGeological%2BLayering.jpg)

When developing an application, we often rely on logfiles to have a sense of what's going on. When an error occurs, we make sure the error is logged together with the stacktrace of the thread. The stacktrace gives us valuable information to pinpoint the problem.  
  
At least ... that's how it used to be, before we started passing functions around and building layer upon layer.   
  
Below is an example of a stacktrace thrown during the handling of a request in a web container using spring mvc and rxJava:  

> com.mycompany.error.ValidationException: Validation failed  
>         at com.mycompany.upload.web.UploadValidator.checkArgument(UploadValidator.java:103)  
>         at com.mycompany.upload.web.UploadValidator.checkExtension(UploadValidator.java:97)  
>         at com.mycompany.upload.web.UploadValidator.checkCsvExtension(UploadValidator.java:89)  
>         at com.mycompany.upload.web.UploadValidator.validateCsvFile(UploadValidator.java:46)  
>         at com.mycompany.upload.web.UploadValidator.validate(UploadValidator.java:38)  
>         at rx.internal.util.ActionObserver.onNext(ActionObserver.java:39)  
>         at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onNext(OnSubscribeDoOnEach.java:96)  
>         at rx.internal.util.ScalarSynchronousObservable$WeakSingleProducer.request(ScalarSynchronousObservable.java:276)  
>         at rx.Subscriber.setProducer(Subscriber.java:211)  
>         at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)  
>         at rx.Subscriber.setProducer(Subscriber.java:205)  
>         at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:138)  
>         at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:129)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)  
>         at rx.Observable.subscribe(Observable.java:10296)  
>         at rx.Observable.subscribe(Observable.java:10263)  
>         at rx.Observable.subscribe(Observable.java:10038)  
>         at com.mycompany.upload.web.UploadController.upload(UploadController.java:213)  
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  
>         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)  
>         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)  
>         at java.lang.reflect.Method.invoke(Method.java:498)  
>         at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)  
>         at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)  
>         at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)  
>         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)  
>         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)  
>         at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)  
>         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)  
>         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)  
>         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)  
>         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)  
>         at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)  
>         at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)  
>         at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.web.multipart.support.MultipartFilter.doFilterInternal(MultipartFilter.java:122)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)  
>         at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)  
>         at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:121)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)  
>         at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)  
>         at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)  
>         at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)  
>         at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)  
>         at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:231)  
>         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149)  
>         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:150)  
>         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97)  
>         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102)  
>         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)  
>         at org.apache.coyote.ajp.AjpProcessor.process(AjpProcessor.java:490)  
>         at org.apache.coyote.ajp.AjpProtocol$AjpConnectionHandler.process(AjpProtocol.java:422)  
>         at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:926)  
>         at java.lang.Thread.run(Thread.java:745)  
> Caused by: rx.exceptions.OnErrorThrowable$OnNextValue: OnError while emitting onNext value: com.mycompany.upload.web.UploadContext.class  
>         at rx.exceptions.OnErrorThrowable.addValueAsLastCause(OnErrorThrowable.java:109)  
>         at rx.exceptions.Exceptions.throwOrReport(Exceptions.java:190)  
>         at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onNext(OnSubscribeDoOnEach.java:98)  
>         ... 136 common frames omitted

  
It's horrific!   
  
Most of it doesn't tell you anything about what's going wrong. Most of it are frames from spring security, spring mvc, rxJava , container it's running onand method invocations through reflection as shown below:   

> com.mycompany.error.ValidationException: Validation failed  
>         at com.mycompany.upload.web.UploadValidator.checkArgument(UploadValidator.java:103)  
>         at com.mycompany.upload.web.UploadValidator.checkExtension(UploadValidator.java:97)  
>         at com.mycompany.upload.web.UploadValidator.checkCsvExtension(UploadValidator.java:89)  
>         at com.mycompany.upload.web.UploadValidator.validateCsvFile(UploadValidator.java:46)  
>         at com.mycompany.upload.web.UploadValidator.validate(UploadValidator.java:38)  
>         at rx.internal.util.ActionObserver.onNext(ActionObserver.java:39)  
>         at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onNext(OnSubscribeDoOnEach.java:96)  
>         at rx.internal.util.ScalarSynchronousObservable$WeakSingleProducer.request(ScalarSynchronousObservable.java:276)  
>         at rx.Subscriber.setProducer(Subscriber.java:211)  
>         at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)  
>         at rx.Subscriber.setProducer(Subscriber.java:205)  
>         at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:138)  
>         at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:129)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:48)  
>         at rx.internal.operators.OnSubscribeMap.call(OnSubscribeMap.java:33)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.Observable.unsafeSubscribe(Observable.java:10200)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)  
>         at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)  
>         at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)  
>         at rx.Observable.subscribe(Observable.java:10296)  
>         at rx.Observable.subscribe(Observable.java:10263)  
>         at rx.Observable.subscribe(Observable.java:10038)  
>         at com.mycompany.upload.web.UploadController.upload(UploadController.java:213)  
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  
>         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)  
>         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)  
>         at java.lang.reflect.Method.invoke(Method.java:498)  
>         at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)  
>         at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)  
>         at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)  
>         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)  
>         at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)  
>         at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)  
>         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)  
>         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)  
>         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)  
>         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)  
>         at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)  
>         at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)  
>         at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.web.multipart.support.MultipartFilter.doFilterInternal(MultipartFilter.java:122)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)  
>         at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)  
>         at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:121)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)  
>         at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)  
>         at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)  
>         at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)  
>         at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:77)  
>         at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)  
>         at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)  
>         at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)  
>         at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)  
>         at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)  
>         at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:231)  
>         at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149)  
>         at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:150)  
>         at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97)  
>         at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102)  
>         at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)  
>         at org.apache.coyote.ajp.AjpProcessor.process(AjpProcessor.java:490)  
>         at org.apache.coyote.ajp.AjpProtocol$AjpConnectionHandler.process(AjpProtocol.java:422)  
>         at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:926)  
>         at java.lang.Thread.run(Thread.java:745)  
> Caused by: rx.exceptions.OnErrorThrowable$OnNextValue: OnError while emitting onNext value: com.mycompany.upload.web.UploadContext.class  
>         at rx.exceptions.OnErrorThrowable.addValueAsLastCause(OnErrorThrowable.java:109)  
>         at rx.exceptions.Exceptions.throwOrReport(Exceptions.java:190)  
>         at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onNext(OnSubscribeDoOnEach.java:98)  
>         ... 136 common frames omitted

All parts marked in colour don't give me any clues about why something fails. They only obscur the real problem.   
  
Luckily there's a poorly documented feature in logback that allows you to [filter out those frames matching a certain prefix](https://jira.qos.ch/browse/LOGBACK-540). Here's an example of a logback configuration filtering out the frames I'm not interested in:   

> <configuration scan="true"> <contextName>myApp</contextName>   <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender"> <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"> <Pattern>%d{dd/MM/yyyy HH:mm:ss.SSS} \[%thread\] %-5level %logger{36} - %msg%n%rootException{full
>                 ,rx
>                 ,sun.reflect
>                 ,java.lang.reflect
>                 ,org.apache.catalina
>                 ,org.apache.coyote
>                 ,org.apache.tomcat
>                 ,org.springframework.web.method
>                 ,org.springframework.web.filter
>                 ,org.springframework.security.web
>                 }</Pattern> </encoder> </appender>     <root level="WARN"> <appender-ref ref="CONSOLE"/> </root>  </configuration>

The horrific stacktrace from above is now reduced to the following:  

> com.mycompany.error.ValidationException: Validation failed
>         at com.mycompany.upload.web.UploadValidator.checkArgument(UploadValidator.java:103)
>         at com.mycompany.upload.web.UploadValidator.checkExtension(UploadValidator.java:97)
>         at com.mycompany.upload.web.UploadValidator.checkCsvExtension(UploadValidator.java:89)
>         at com.mycompany.upload.web.UploadValidator.validateCsvFile(UploadValidator.java:46)
>         at com.mycompany.upload.web.UploadValidator.validate(UploadValidator.java:38)
>         at com.mycompany.upload.web.UploadController.upload(UploadController.java:213)
>         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
>         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)
>         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
>         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)
>         at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)
>         at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
>         at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
>         at org.springframework.web.multipart.support.MultipartFilter.doFilterInternal(MultipartFilter.java:122)
>         at java.lang.Thread.run(Thread.java:745)
> Caused by: rx.exceptions.OnErrorThrowable$OnNextValue: OnError while emitting onNext value: com.mycompany.upload.web.UploadContext.class
>         ... 136 common frames omitted

Much easier to read, much faster to diagnose.
Greetings 

Jan